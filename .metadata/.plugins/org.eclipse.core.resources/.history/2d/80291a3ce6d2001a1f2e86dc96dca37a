package Ch29;

import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.*;

public class C07SwingaddThread extends JFrame implements ActionListener {
	
	JPanel pl;
	static JTextArea area1; // ThreadA가 접근이 가능해짐: static
	static JScrollPane scroll;
	TextField txt1;
	JButton btn1;
	
	C07SwingaddThread() {
		super("스레드를 동작시키는 프레임 창");
		
		// panel
		pl = new JPanel();
		
		// textarea, scroll
		area1 = new JTextArea(10,30);
		scroll = new JScrollPane(area1);
		scroll.setBounds(10,10,450,150);
		
		// text
		txt1 = new TextField();
		txt1.setBounds(10,170,150,30);
		txt1.addActionListener(this);
		
		// button
		btn1 = new JButton("파일로 저장");
		btn1.setBounds(10,220,150,30);
		btn1.addActionListener(this);
		
		// add
		pl.add(scroll);
		pl.add(txt1);
		pl.add(btn1);
		add(pl);
		pl.setLayout(null);
		setSize(500,300);
		setVisible(true);
		
	}
	
	public static void main(String[] args) {
		new C07SwingaddThread();
		ThreadA task1 = new ThreadA();
		Thread th1 = new Thread(task1);
		th1.start();
	}

	@Override
	public void actionPerformed(ActionEvent e) {
		// TxtField의 내용을 TextArea에 추가하기
		if(e.getSource()==txt1)
		{
			area1.append(txt1.getText()+"\n");
			txt1.setText("");
		} 
		// 버튼을 누르면 TextArea에 "버튼입력" 문자 출력하기
		if(e.getSource()==btn1)
		{
			area1.append("버튼입력\n");
		}
		
		
	}
}



class ThreadA implements Runnable {

	// implements를 하면 run()이 강제 상속됨
	@Override
	public void run() {
		C07SwingaddThread.area1.append("This us Thread\n");
		try {Thread.sleep(1000);}catch(Exception e) {}
		
	}
	
}

